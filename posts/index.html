<!DOCTYPE html>
<html>
  <head>
    <title>Sparking Mind</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-07-01T18:42:05 CST">
<title>Posts :: Sparking Mind</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/hybrid.css" rel="stylesheet">
<link href="/css/featherlight.min.css" rel="stylesheet">
<link href="/css/auto-complete.css" rel="stylesheet">
<link href="/theme-original/style.css" rel="stylesheet">

  <link href="/theme-original/variant-green.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
    });
</script>
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
    
  </head>
  <body data-url="/posts/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="showVisitedLinks">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      
	
  
    <a class="baselink" href="http://mymneo.github.io/">Sparking Mind</a>
  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="/js/lunr.min.js"></script>
		<script type="text/javascript" src="/js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "http:\/\/mymneo.github.io\/";
        
		</script>
		<script type="text/javascript" src="/js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/" class="dd-item">
            <a href="/"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/posts/" class="dd-item parent active haschildren
        ">
      <div>
      <a href="/posts/">Posts</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/posts/vim-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/vim-cheatsheet/">
            vim cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/audit/" class="dd-item">
        <div>
          <a href="/posts/audit/">
            audit command cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/ssh-tunnel/" class="dd-item">
        <div>
          <a href="/posts/ssh-tunnel/">
            ssh tunnel configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/socat-tips/" class="dd-item">
        <div>
          <a href="/posts/socat-tips/">
            socat tips
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/linux-administrator-command/" class="dd-item">
        <div>
          <a href="/posts/linux-administrator-command/">
            Linux Administrator command
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/mysql-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/mysql-cheatsheet/">
            MySQL cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/port-forwarding-in-windows/" class="dd-item">
        <div>
          <a href="/posts/port-forwarding-in-windows/">
            port forwarding in windows
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/rsyslog-configuration/" class="dd-item">
        <div>
          <a href="/posts/rsyslog-configuration/">
            rsyslog configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/symbol-legend/" class="dd-item">
        <div>
          <a href="/posts/symbol-legend/">
            symbol legend
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/tcpdump/" class="dd-item">
        <div>
          <a href="/posts/tcpdump/">
            tcpdump tutorial
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/svn2git/" class="dd-item">
        <div>
          <a href="/posts/svn2git/">
            SVN and Git migration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/jq-tutorial/" class="dd-item">
        <div>
          <a href="/posts/jq-tutorial/">
            jq tutorial
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/behaviors-ext4-file-system-when-devicemapper-pool-is-full/" class="dd-item">
        <div>
          <a href="/posts/behaviors-ext4-file-system-when-devicemapper-pool-is-full/">
            behaviors of ext4 file system when devicemapper pool is full
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/kvm/" class="dd-item">
        <div>
          <a href="/posts/kvm/">
            kvm virtual machine with vnc support
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/find-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/find-cheatsheet/">
            find cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/lvm-thin-pool-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/lvm-thin-pool-cheatsheet/">
            lvm thin pool cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/resize-disk/" class="dd-item">
        <div>
          <a href="/posts/resize-disk/">
            resize disk
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/shell-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/shell-cheatsheet/">
            Shell Cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/mac-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/mac-cheatsheet/">
            mac cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/golang-functions/" class="dd-item">
        <div>
          <a href="/posts/golang-functions/">
            golang memo
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/git-command/" class="dd-item">
        <div>
          <a href="/posts/git-command/">
            git command
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/makefile-memo/" class="dd-item">
        <div>
          <a href="/posts/makefile-memo/">
            makefile memo
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/rpmbuild-tutorial/" class="dd-item">
        <div>
          <a href="/posts/rpmbuild-tutorial/">
            rpmbuild easy tutorial
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/rpm-and-yum-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/rpm-and-yum-cheatsheet/">
            rpm and yum cheatsheet
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/sed-command/" class="dd-item">
        <div>
          <a href="/posts/sed-command/">
            Frequent commands about linux sed
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/docker-registry/" class="dd-item">
        <div>
          <a href="/posts/docker-registry/">
            docker registry
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/iptables/" class="dd-item">
        <div>
          <a href="/posts/iptables/">
            iptables command(docker related)
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/log4j-configuration/" class="dd-item">
        <div>
          <a href="/posts/log4j-configuration/">
            log4j configuration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/vim-plugins/" class="dd-item">
        <div>
          <a href="/posts/vim-plugins/">
            vim plugins
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/gdb-cheatsheet/" class="dd-item">
        <div>
          <a href="/posts/gdb-cheatsheet/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/posts/kernel-development/" class="dd-item">
        <div>
          <a href="/posts/kernel-development/">
            
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><h3>More</h3><a href="https://github.com/mYmNeo/" target="_blank" rel="noopener"><i class='fa fa-github'></i> <label>Github repo</label></a></li>
        </section>
            <a id="clear-history" class="" href="#" data-clear-history-toggle=""><i class="fa  fa-history"></i> Clear History</a>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    
      
      
      
    <div id="top-github-link">
      <a class="github-link" href="https://github.com/mYmNeo/blog/tree/master/content/posts/_index.md" target="blank">
        <i class="fa fa-code-fork"></i>
        Improve this page
      </a>
    </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        




 <a href='/'></a> > Posts

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#posts">Posts</a></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>Posts</h1>
  



    
    
    



<h2 id="posts">Posts</h2>

<ul class="children children-h4">

<span><h4>
        <a href="/posts/algorithm/" >Algorithm</a></h4>
<p>Posts  Reverse Words in a String III Given a string, you need to reverse the order of characters in each word within a sentence while still preserving whitespace and initial word order. Example 1: Input: &ldquo;Let&rsquo;s take LeetCode contest&rdquo; Output: &ldquo;s&rsquo;teL ekat edoCteeL tsetnoc&rdquo; Note: In the string, each word is separated by single space and there will not be any extra space in the string. Analysis: 找到一个单词的分界,然后翻转,repeat Time and space complexity: time: $\Theta (n)$</p>
</span>

<span><h4>
        <a href="/posts/vim-cheatsheet/" >vim cheatsheet</a></h4>
<p> VIM cheatsheet  delete lines which matches regex expression
:g/&lt;expr&gt;/d   </p>
</span>

<span><h4>
        <a href="/posts/audit/" >audit command cheatsheet</a></h4>
<p>Audit Cheatsheet  audit syscall  auditctl -a exit,always -S &lt;syscall&gt;  audit file  auditctl -w /etc/shadow -p wa   extra option     Tag Description     -b backlog Set max number of outstanding audit buffers allowed (Kernel Default=64) If all buffers are full, the failure flag is consulted by the kernel for action.   -e [0..2] Set enabled flag. When 0 is passed, this can be used to temporarily disable auditing.</p>
</span>

<span><h4>
        <a href="/posts/ssh-tunnel/" >ssh tunnel configuration</a></h4>
<p>SSH Tunnel Configuration You basically have three possibilities:
 Tunnel from localhost to host1:
ssh -L 9999:host2:1234 -N host1   As noted above, the connection from host1 to host2 will not be secured.
 Tunnel from localhost to host1 and from host1 to host2:
ssh -L 9999:localhost:9999 host1 ssh -L 9999:localhost:1234 -N host2   This will open a tunnel from localhost to host1 and another tunnel from host1 to host2.</p>
</span>

<span><h4>
        <a href="/posts/socat-tips/" >socat tips</a></h4>
<p> Tips for socat  listen tcp port and transport data to unix socket  socat TCP-LISTEN:&lt;port&gt;,fork UNIX:&lt;socket file&gt;  listen tcp prot and transport data to abstract unix socket  socat TCP-LISTEN:&lt;port&gt;,fork ABSTRACT:&lt;abstract socket file&gt;</p>
</span>

<span><h4>
        <a href="/posts/linux-administrator-command/" >Linux Administrator command</a></h4>
<p> Commands for administrator  Disable expiration of a user &gt;Minimum Password Age to 0 &gt;Maximum Password Age to 99999 &gt;Password Inactive to -1 &gt;Account Expiration Date to -1  chage -I -1 -m 0 -M 99999 -E -1 &lt;username&gt;</p>
</span>

<span><h4>
        <a href="/posts/mysql-cheatsheet/" >MySQL cheatsheet</a></h4>
<p> select   normal select  SELECT column1, column2, ... FROM table_name;   Derived Tables  SELECT column1, column2, ... FROM (subquery) [AS] tbl_name ...  encoding  set CHARACTER SET (encoding)</p>
</span>

<span><h4>
        <a href="/posts/port-forwarding-in-windows/" >port forwarding in windows</a></h4>
<p> Port forwarding configuration  Add rule
   forward A:B to C:D
netsh interface portproxy add v4tov4 listenaddress=A listenport=B connectaddress=C connectport=D    Delete rule   delete A:B
netsh interface portproxy delete v4tov4 listenaddress=A listenport=B    List all rules
netsh interface portproxy show all   </p>
</span>

<span><h4>
        <a href="/posts/rsyslog-configuration/" >rsyslog configuration</a></h4>
<p>configuration file location
/etc/rsyslog.conf /etc/rsyslog.d/  rotate configuration location
/etc/logrotate.d/rsyslog  rotate options
  The following is a list of some of the directives you can specify in your logrotate configuration file:
 weekly — Specifies the rotation of log files to be done weekly. Similar directives include:
 daily monthly yearly  compress — Enables compression of rotated log files. Similar directives include:
 nocompress compresscmd — Specifies the command to be used for compressing.</p>
</span>

<span><h4>
        <a href="/posts/symbol-legend/" >symbol legend</a></h4>
<p>+　加号；正号 -　minus　减号；负号 ±　plus or minus　正负号 ×　is multiplied by　乘号 ÷　is divided by　除号 ＝　is equal to　等于号 ≠　is not equal to　不等于号 ≡　is equivalent to　全等于号 ≌　is equal to or approximately equal to　等于或约等于号 ≈　is approximately equal to　约等于号 ＜　is less than　小于号 ＞　is greater than　大于号 ≮　is not less than　不小于号 ≯　is not more than　不大于号 ≤　is less than or equal to　小于或等于号 ≥　is more than or equal to　大于或等于号 %　per cent　百分之…… ‰　per mill 千分之…… ∞　infinity　无限大号 ∝　varies as　与……成比例 √　(square) root　（平方）根 ∵　since; because　因为 ∴　hence　所以 ∷　equals; as (proportion)　等于；成比例 ∠　angle　角 ⌒　semicircle　半圆 ⊙　circle　圆 ○　circumference　圆周 π　pi 圆周率 △　triangle　三角形 ⊥　perpendicular to　垂直于 ∪　union of　并；合集 ∩　intersection of 交；通集 ∫　the integral of ……的积分 ∑　(sigma) summation of　总和 °　degree　度 ′　minute　分 ″　second　秒 ℃　Celsius system　摄氏度 {　open brace; open curly　左花括号 }　close brace; close curly　右花括号 (　open parenthesis; open paren　左圆括号 )　close parenthesis; close paren　右圆括号 () brakets; parentheses　括号 [　open bracket 左方括号 ]　close bracket 右方括号 [] square brackets　方括号 .</p>
</span>

<span><h4>
        <a href="/posts/tcpdump/" >tcpdump tutorial</a></h4>
<p>Tcpdump usage example  See the list of interfaces on which tcpdump can listen:
tcpdump -D  Listen on interface eth0:
tcpdump -i eth0  Listen on any available interface (cannot be done in promiscuous mode. Requires Linux kernel 2.2 or greater):
tcpdump -i any  Be verbose while capturing packets:
tcpdump -v  Be more verbose while capturing packets:
tcpdump -vv  Be very verbose while capturing packets:</p>
</span>

<span><h4>
        <a href="/posts/svn2git/" >SVN and Git migration</a></h4>
<p> Import svn project into your git project git config --add svn-remote.&lt;branch name&gt;.url &lt;svn repository url&gt; git config --add svn-remote.&lt;branch name&gt;.fetch :refs/remotes/&lt;branch name&gt; git svn fetch &lt;branch name&gt; [-r&lt;rev&gt;] Export and import SVN repository svnrdump dump [-r&lt;rev&gt;] &lt;svn repostory url&gt; &gt; &lt;dump file&gt; svnadmin load --force-uuid &lt;directory&gt; &lt; &lt;dump file&gt;</p>
</span>

<span><h4>
        <a href="/posts/jq-tutorial/" >jq tutorial</a></h4>
<p>Example json file
{ &#34;id&#34;: { &#34;bioguide&#34;: &#34;E000295&#34;, &#34;thomas&#34;: &#34;02283&#34;, &#34;fec&#34;: [ &#34;S4IA00129&#34; ], &#34;govtrack&#34;: 412667, &#34;opensecrets&#34;: &#34;N00035483&#34;, &#34;lis&#34;: &#34;S376&#34; }, &#34;name&#34;: { &#34;first&#34;: &#34;Joni&#34;, &#34;last&#34;: &#34;Ernst&#34;, &#34;official_full&#34;: &#34;Joni Ernst&#34; }, &#34;bio&#34;: { &#34;gender&#34;: &#34;F&#34;, &#34;birthday&#34;: &#34;1970-07-01&#34; }, &#34;terms&#34;: [ { &#34;type&#34;: &#34;sen&#34;, &#34;start&#34;: &#34;2015-01-06&#34;, &#34;end&#34;: &#34;2021-01-03&#34;, &#34;state&#34;: &#34;IA&#34;, &#34;class&#34;: 2, &#34;state_rank&#34;: &#34;junior&#34;, &#34;party&#34;: &#34;Republican&#34;, &#34;url&#34;: &#34;http://www.ernst.senate.gov&#34;, &#34;address&#34;: &#34;825 B&amp;C Hart Senate Office Building Washington DC 20510&#34;, &#34;office&#34;: &#34;825 B&amp;c Hart Senate Office Building&#34;, &#34;phone&#34;: &#34;202-224-3254&#34; } ] }  query a attribute</p>
</span>

<span><h4>
        <a href="/posts/behaviors-ext4-file-system-when-devicemapper-pool-is-full/" >behaviors of ext4 file system when devicemapper pool is full</a></h4>
<p>Backgroud &nbsp;&nbsp;&nbsp;&nbsp;Our production system currently use docker to run all kinds of services. One day our clients reported that their service could not write down any log in the container and all the other containers which were started and worked well a few days ago also couldn&rsquo;t. And the containers couldn&rsquo;t be recovered. We logged in the malfunction machine, found that the thin pool used by devicemapper was full. At the same time there was some messages that dmesg reported telling the file system of containers became read-only.</p>
</span>

<span><h4>
        <a href="/posts/kvm/" >kvm virtual machine with vnc support</a></h4>
<p>Install a KVM virtual machin with VNC support  Create a disk for VM
qemu-img create -f qcow2 &lt;img path&gt; &lt;size&gt;  Use virt-install install a VM bash virt-install \ --virt-type kvm \ --name &lt;name&gt; \ --cdrom=&lt;cdrom iso&gt; \ --disk path=&lt;disk path&gt; \ --network network=default \ --graphics vnc,listen=0.0.0.0 \ --noautoconsole \ --os-type=&lt;os type&gt; \ --os-variant=&lt;os&gt;   Show VNC port
virsh vncdisplay &lt;domain name&gt; VM Operations  Sometimes you need add For example:</p>
</span>

<span><h4>
        <a href="/posts/find-cheatsheet/" >find cheatsheet</a></h4>
<p>Frequently used option of Find TEST    option description example     -name  find the file which name is filename find / -name &ldquo;*.js&rdquo;   -group  find the file belongs to group-name find / -group users   -user  find the file belongs to user-name find / -user root   -maxdepth  Descend at most levels to find find / -maxdepth 4   -empty find file is empty and is either a regular file or a directory find / -empty   -path  find file name matches shell pattern  find / -path &ldquo;/sr*sc&rdquo;   -perm  find file&rsquo;s permission bits are exactly mode find / -perm 0664   -perm - find all of the permission bits mode are set for the file find / -perm -644   -perm / find any of the permission bits mode are set for the file find / -perm /644   -regex  find file name matches regular expression  find / -regex &ldquo;.</p>
</span>

<span><h4>
        <a href="/posts/lvm-thin-pool-cheatsheet/" >lvm thin pool cheatsheet</a></h4>
<p>We use devicemapper as Docker storage driver, sometime any of the meta or data pool is full. We have to extend the pool
  Single step thin pool LV creation  lvcreate --type thin-pool --poolmetadata &lt;meta size&gt; -L &lt;pool size&gt; &lt;pool name&gt;  Manually manage free data space of thin pool LV  lvextend -L &lt;size&gt; &lt;pool name&gt;  Manually manage free metadata space of a thin pool LV  lvs -oname,size,data_percent,metadata_percent # show the available metadat space in a thin pool LV lvextend --poolmetadatasize &lt;size&gt; &lt;pool name&gt; Metadata space exhaustion  Metadata space exhaustion can lead to inconsistent thin pool metadata and inconsistent file systems, so the response requires offline checking and repair.</p>
</span>

<span><h4>
        <a href="/posts/resize-disk/" >resize disk</a></h4>
<p> Shrink a disk  If the partition the file system is on is currently mounted, unmount it
umount /dev/disk  Run fsck on the umounted file system bash e2fsck -f /dev/disk   Shrink the file system with the resize2fs /dev/fdisk size
resize2fs /dev/disk size  Use fdisk to modify the partition table information bash fdisk /dev/disk   Mount the disk
mount /dev/disk target  </p>
</span>

<span><h4>
        <a href="/posts/shell-cheatsheet/" >Shell Cheatsheet</a></h4>
<p> Checking if string does or not contain other string  Use &lsquo;=&rsquo; or &lsquo;!=&rsquo;
if [[ ${testmystring} = *&#34;c0&#34;* ]];then # testmystring does contain c0 fi if [[ ${testmystring} != *&#34;c0&#34;* ]];then # testmystring does not contain c0 fi</p>
</span>

<span><h4>
        <a href="/posts/mac-cheatsheet/" >mac cheatsheet</a></h4>
<p> Reset Launchpad Layout in OS X El Capitan &amp; Yosemite bash defaults write com.apple.dock ResetLaunchPad -bool true; killall Dock   </p>
</span>

<span><h4>
        <a href="/posts/golang-functions/" >golang memo</a></h4>
<p>tell you file and line number like C  runtime.Caller(0)  iterate over some field in structure  package main import &#34;fmt&#34; import &#34;reflect&#34; import &#34;strings&#34; type MyStruct struct { A,B,C string I int D string J int } func main() { ms := MyStruct{&#34;Green &#34;, &#34; Eggs&#34;, &#34; and &#34;, 2, &#34; Ham &#34;, 15} // Print it out now so we can see the difference  fmt.Printf(&#34;%s%s%s%d%s%d\n&#34;, ms.</p>
</span>

<span><h4>
        <a href="/posts/git-command/" >git command</a></h4>
<p>branch
git checkout -b &lt;branch name&gt; # checkout with &lt;branch name&gt; git push origin &lt;branch name&gt; # push changes to remote named &#39;origin&#39; with &lt;branch name&gt; git push origin :&lt;branch name&gt; # delete remote named &#39;origin&#39; &lt;branch name&gt;  commit bash git rebase -i &lt;commit lists&gt; # rebase &lt;commit lists&gt; with interactive mode, it can re-order commits git reset --hard &lt;commit id&gt; # Resets the index and working tree. Any changes to tracked files in the working tree since &lt;commit&gt; are discarded.</p>
</span>

<span><h4>
        <a href="/posts/makefile-memo/" >makefile memo</a></h4>
<p>Checks if the first argument is non-empty.If so runs the second argument, otherwise runs the third
$(if this-is-not-empty,then!,else!)   Execute command but not display on standard output makefile @ls .   tell make to ignore error
-rm -f *.*   The foreach function is very different from other functions. It causes one piece of text to be used repeatedly, each time with a different substitution performed on it.</p>
</span>

<span><h4>
        <a href="/posts/rpmbuild-tutorial/" >rpmbuild easy tutorial</a></h4>
<p>创建好文件夹结构  SOURCES 包含源代码,补丁,图标文件等 SPECS 包含spec文件,这些文件用来控制构建过程 BUILD 用来解压源代码的目录和软件构建的目录 RPMS 包含构建程序最后产生的RPM包 SPRMS 包含构建程序最后产生的源代码包文件  放置源代码到SOURCES文件夹中 编写spec文件   常用label     label description     Name 表明这个包叫什么名字，通常来说，一般用软件的名字作为name，name存在于最后的包的标签和包的文件名字中   Version 表示这个软件被打包后的版本，版本存在于最后包的标签和包的名字   Release 表示这个软件的时间信息，表示何时什么版本的软件被打包，你可以当作这个是包的版本号，这个信息最后作为最后包的标签和文件名的一部分   Group 用来存储这个被打包的文件与其他包的组关系，这段信息由很多词构成，以/分割。从左到右描述的更为精确   Source 说明被打包的软件的源代码在哪里可以被发现;告诉存在SOURCES文件夹中的源文件的名字   URL 通常含有一个URL，像Source那行，与source的区别是，source通常给RPM提供源代码的名字，URL是用来指明被打包的软件是文档信息   Distribution 告知被打包的软件是属于那个产品的   Vendor 指明那个组织发布的这个软件   Packager 指明组织中那个作者打包的这个软件   License 许可证   Requires 说明这个包需要的依赖条件   BuildRoot 说明这个包构建的根目录     常用section     section description     description 更详细的描述包的内容   define 定义自己的macro   prep 创建软件的构建环境，可以执行多条shell命令   build 执行build的多条命令   install 执行install的多条命令   files 列出来的文件都会被打进RPM包中   defattr RPM安装的文件默认的权限，拥有者和组   pre 在安装前执行的命令   post 在安装后执行的命令   preun 在卸载前执行的命令   postun 在卸载后执行的命令   package 生成子包    创建Subpackages  简单的来说,subpackage是同一个spec文件创建出来众多package中的一个,RPM可以创建一个主要的package同时创建一个或者多个subpackage,subpackges可以不从主要的package中产生,这些都是根据package builder的规则来确定</p>
</span>

<span><h4>
        <a href="/posts/rpm-and-yum-cheatsheet/" >rpm and yum cheatsheet</a></h4>
<p>query the dependency of a package  rpm -qR &lt;package-name&gt;  query the dependency of a rpm file  rpm -qpR &lt;rpm-file&gt;  query which rpm this file belongs to  rpm -qif &lt;filename&gt;  query non-installed rpm file  rpm -qip &lt;rpm-file&gt;  setup yum with proxy  append proxy=&lt;your proxy&gt; to /etc/yum.conf
[main] proxy=&lt;your proxy&gt;  if you don&rsquo;t want proxy in some repository
append proxy=_none_ to your repo file</p>
</span>

<span><h4>
        <a href="/posts/sed-command/" >Frequent commands about linux sed</a></h4>
<p>add content at last line
sed &#39;$a&lt;content&gt;&#39; &lt;file&gt;  add content at line bash sed '&lt;line&gt;i&lt;content&gt;' &lt;file&gt;   delete line
sed &#39;&lt;line&gt;d&#39; &lt;file&gt;  match pattern, then execute expression bash sed '/&lt;regex&gt;/&lt;command&gt;' &lt;file&gt;   print line number of matched pattern
sed &#39;/&lt;regex&gt;/{=}&#39; &lt;file&gt; Zero- or One- address commands in linux sed ```
 label = # line_number a # append_text_to_stdout_after_flush b # branch_unconditional c # range_change d # pattern_delete_top/cycle D # pattern_ltrunc(line+nl)_top/cycle g # pattern=hold G # pattern+=nl+hold h # hold=pattern H # hold+=nl+pattern i # insert_text_to_stdout_now l # pattern_list n # pattern_flush=nextline_continue N # pattern+=nl+nextline p # pattern_print P # pattern_first_line_print q # flush_quit r # append_file_to_stdout_after_flush s # substitute t # branch_on_substitute w # append_pattern_to_file_now x # swap_pattern_and_hold y # transform_chars ```</p>
</span>

<span><h4>
        <a href="/posts/docker-registry/" >docker registry</a></h4>
<p> search v1 repository list
curl http://registry.com/v1/search  pull image bash docker pull &lt;hub address&gt;/&lt;name&gt;   push image
docker tag &lt;image id or image name&gt; &lt;hub address&gt;/&lt;name&gt;:&lt;version&gt; docker push &lt;hub address&gt;/&lt;name&gt;:&lt;version&gt;  save image bash docker save -o &lt;filename&gt; &lt;image id or image name&gt;   load image
docker load -i &lt;filename&gt;  </p>
</span>

<span><h4>
        <a href="/posts/iptables/" >iptables command(docker related)</a></h4>
<p> flush all rules bash sudo iptables -P INPUT ACCEPT sudo iptables -P FORWARD ACCEPT sudo iptables -P OUTPUT ACCEPT sudo iptables -F sudo iptables -X sudo iptables -t nat -F sudo iptables -t nat -X   </p>
</span>

<span><h4>
        <a href="/posts/log4j-configuration/" >log4j configuration</a></h4>
<p>开始学习Hadoop的时候看代码是很枯燥的,就算看懂了对整个系统的流程可能还是不是很了解,这时候从日志文件着手就能快速地了解一个系统是大致流程,Hadoop使用的是log4j这个日志系统,默认的情况下Hadoop不会给每个类记录日志,需要手动的配置.
如果需要配置某一个类的日志输出需要如下的填写方式:
log4j.logger.类名=日志级别, 自定义名称 log4j.appender.自定义名称
例如: + 配置org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl类 + 日志级别为Info + 日志名称为ContainerManagerImpl日志使用按天滚动添加 + 日志文件的日期格式为xxx-dd.log + 日志存放位置为${hadoop.log.dir}/ContainerManagerImpl.log
{% codeblock log4j.property lang:xml %} log4j.logger.org.apache.hadoop.yarn.server.nodemanager.containermanager.ContainerManagerImpl=INFO, ContainerManagerImpl log4j.appender.ContainerManagerImpl=org.apache.log4j.DailyRollingFileAppender log4j.appender.ContainerManagerImpl.datePattern=&lsquo;-&lsquo;dd&rsquo;.log&rsquo; log4j.appender.ContainerManagerImpl.File=${hadoop.log.dir}/ContainerManagerImpl.log log4j.appender.ContainerManagerImpl.layout=org.apache.log4j.PatternLayout log4j.appender.ContainerManagerImpl.layout.ConversionPattern=%-6r %d{ISO8601} %-5p %40.40c %x - %m%n {% endcodeblock %}</p>
</span>

<span><h4>
        <a href="/posts/vim-plugins/" >vim plugins</a></h4>
<p>工欲善其事,必先利其器.对于天天在类Unix写后台的代码的人来说,便捷的插件会使你写代码的速度加快很多.下面介绍一下我经常使用的插件(直接粘贴的英文,英文不好):
   插件名称 简介     Vundle 统一管理所有vim插件的工具,让你管理插件very easy   google/vim-maktaba Maktaba is a vimscript plugin library. It is designed for plugin authors   google/vim-codefmt codefmt is a utility for syntax-aware code formatting. It contains several built-in formatters, and allows new formatters to be registered by other plugins.   google/vim-glaive Glaive is a utility for configuring maktaba plugins.   tpope/vim-fugitive I&rsquo;m not going to lie to you; fugitive.</p>
</span>

<span><h4>
        <a href="/posts/gdb-cheatsheet/" ></a></h4>
<p>GDB Cheatsheet  Copy Between Memory and a File
dump [format] memory filename start_addr end_addr dump [format] value filename expr Dump the contents of memory from start_addr to end_addr, or the value of expr, to filename in the given format. The format parameter may be any one of: binary Raw binary form. ihex Intel hex format. srec Motorola S-record format. tekhex Tektronix Hex format. verilog Verilog Hex format.  Show more line of source code</p>
</span>

<span><h4>
        <a href="/posts/kernel-development/" ></a></h4>
<p>Kernel Development Cheatsheet  asmlinkage macro  The asmlinkage tag is one other thing that we should observe about this simple function. This is a #define for some gcc magic that tells the compiler that the function should not expect to find any of its arguments in registers (a common optimization), but only on the CPU&rsquo;s stack. Recall our earlier assertion that system_call consumes its first argument, the system call number, and allows up to four more arguments that are passed along to the real system call.</p>
</span>
</ul>



    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
</div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="/js/clipboard.min.js"></script>
<script src="/js/featherlight.min.js"></script>
<script src="/js/html5shiv-printshiv.min.js"></script>

<script src="/js/modernizr.custom.71422.js"></script>
<script src="/js/docdock.js"></script>
<script src="/theme-original/script.js"></script>


    

    
    

    
  </body>
</html>